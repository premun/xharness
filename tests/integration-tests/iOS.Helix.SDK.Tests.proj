<Project DefaultTargets="Test">
  <!-- TODO: Remove -->
  <Import Project="/mnt/d/github/arcade/src/Microsoft.DotNet.Helix/Sdk/sdk/Sdk.props"/>
  <!-- <Import Sdk="Microsoft.DotNet.Helix.Sdk" Project="Sdk.props"/> -->

  <!-- TODO: Remove -->
  <PropertyGroup>
    <MicrosoftDotNetHelixSdkTasksAssembly>/mnt/d/github/arcade/artifacts/bin/Microsoft.DotNet.Helix.Sdk/Debug/netcoreapp2.1/publish/Microsoft.DotNet.Helix.Sdk.dll</MicrosoftDotNetHelixSdkTasksAssembly>
  </PropertyGroup>

  <PropertyGroup>
    <HelixType>test/product/</HelixType>
    <IncludeDotNetCli>true</IncludeDotNetCli>
    <DotNetCliPackageType>sdk</DotNetCliPackageType>
    <TestRunNamePrefix>$(AGENT_JOBNAME)</TestRunNamePrefix>
    <EnableXUnitReporter>true</EnableXUnitReporter>
    <EnableAzurePipelinesReporter>false</EnableAzurePipelinesReporter> <!-- TODO: false -->
    <HelixBaseUri>https://helix.dot.net</HelixBaseUri>
    <MicrosoftDotNetXHarnessCLIVersion>1.0.0-dev</MicrosoftDotNetXHarnessCLIVersion> <!-- TODO: 1.0.0-ci -->
    <XHarnessNupkgPath>/mnt/d/github/xharness/artifacts/packages/Debug/Shipping/Microsoft.DotNet.XHarness.CLI.1.0.0-dev.nupkg</XHarnessNupkgPath> <!-- TODO: Artifact unzip location -->
  </PropertyGroup>

  <!-- New Test Projects which build app bundles to run through XHarness/XHarness go here -->
  <ItemGroup>
    <XHarnessiOSProject Include="$(MSBuildThisFileDirectory)\iOS.AppBundle.proj" />
  </ItemGroup>

  <ItemGroup Condition=" '$(HelixAccessToken)' != '' ">
    <HelixTargetQueue Include="osx.1015.amd64"/>
  </ItemGroup>

  <ItemGroup Condition=" '$(HelixAccessToken)' == '' ">
    <HelixTargetQueue Include="osx.1015.amd64.open"/>
  </ItemGroup>

  <PropertyGroup Condition=" '$(HelixAccessToken)' == '' ">
    <IsExternal>true</IsExternal>
    <Creator>$(BUILD_SOURCEVERSIONAUTHOR)</Creator>
    <Creator Condition=" '$(Creator)' == '' ">anon</Creator>
  </PropertyGroup>

  <!-- Useless stuff to make Arcade SDK happy -->
  <PropertyGroup>
    <Language>msbuild</Language>
  </PropertyGroup>

  <Target Name="Pack"/>

  <!-- TODO: Remove -->
  <Import Project="/mnt/d/github/arcade/src/Microsoft.DotNet.Helix/Sdk/sdk/Sdk.targets"/>
  <!-- <Import Sdk="Microsoft.DotNet.Helix.Sdk" Project="Sdk.targets"/> -->
</Project>
